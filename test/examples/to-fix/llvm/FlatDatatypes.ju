mod FlatDatatypes where

open Prelude
open LLVM

sig (+) : int -> int -> int
let (+) = %LLVM.add
declare infixl (+) 5

type pq : ty = | P int int | Q int int int

sig patternMatch : pq -> int
let patternMatch (P x y) = x + y
let patternMatch (Q x y z) = x + y + z

sig main : int
let main =
  patternMatch (P 1 2)
